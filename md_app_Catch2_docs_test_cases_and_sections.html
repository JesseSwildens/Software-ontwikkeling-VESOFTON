<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Software Ontwikkeling: test-cases-and-sections</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="placeholder.jpg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Software Ontwikkeling
   &#160;<span id="projectnumber">0</span>
   </div>
   <div id="projectbrief">placeholder</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">test-cases-and-sections </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="top"></a> </p>
<h1><a class="anchor" id="autotoc_md584"></a>
Test cases and sections</h1>
<p><b>Contents</b><br  />
 <a href="#tags">Tags</a><br  />
 <a href="#tag-aliases">Tag aliases</a><br  />
 <a href="#bdd-style-test-cases">BDD-style test cases</a><br  />
 <a href="#type-parametrised-test-cases">Type parametrised test cases</a><br  />
 <a href="#signature-based-parametrised-test-cases">Signature based parametrised test cases</a><br  />
</p>
<p>While <a class="el" href="namespaceCatch.html">Catch</a> fully supports the traditional, xUnit, style of class-based fixtures containing test case methods this is not the preferred style.</p>
<p>Instead <a class="el" href="namespaceCatch.html">Catch</a> provides a powerful mechanism for nesting test case sections within a test case. For a more detailed discussion see the <a href="tutorial.md#test-cases-and-sections">tutorial</a>.</p>
<p>Test cases and sections are very easy to use in practice:</p>
<ul>
<li><b>TEST_CASE(** <em>test name</em> [, <em>tags</em> ] **)</b></li>
<li><b>SECTION(** <em>section name</em>, [, <em>section description</em> ] **)</b></li>
</ul>
<p><em>test name</em> and <em>section name</em> are free form, quoted, strings. The optional <em>tags</em> argument is a quoted string containing one or more tags enclosed in square brackets, and are discussed below. <em>section description</em> can be used to provide long form description of a section while keeping the <em>section name</em> short for use with the <a href="command-line.md#specify-the-section-to-run"><code>-c</code> command line parameter</a>.</p>
<p><b>The combination of test names and tags must be unique within the Catch2 executable.</b></p>
<p>For examples see the <a href="tutorial.md#top">Tutorial</a></p>
<h2><a class="anchor" id="autotoc_md585"></a>
Tags</h2>
<p>Tags allow an arbitrary number of additional strings to be associated with a test case. Test cases can be selected (for running, or just for listing) by tag - or even by an expression that combines several tags. At their most basic level they provide a simple way to group several related tests together.</p>
<p>As an example - given the following test cases: </p><pre class="fragment">TEST_CASE( "A", "[widget]" ) { /* ... */ }
TEST_CASE( "B", "[widget]" ) { /* ... */ }
TEST_CASE( "C", "[gadget]" ) { /* ... */ }
TEST_CASE( "D", "[widget][gadget]" ) { /* ... */ }
</pre><p> The tag expression, <code>"[widget]"</code> selects <a class="el" href="structA.html">A</a>, <a class="el" href="structB.html">B</a> &amp; D. <code>"[gadget]"</code> selects C &amp; D. <code>"[widget][gadget]"</code> selects just D and <code>"[widget],[gadget]"</code> selects all four test cases.</p>
<p>For more detail on command line selection see <a href="command-line.md#specifying-which-tests-to-run">the command line docs</a></p>
<p>Tag names are not case sensitive and can contain any ASCII characters. This means that tags <code>[tag with spaces]</code> and <code>[I said "good day"]</code> are both allowed tags and can be filtered on. However, escapes are not supported however and <code>[\]]</code> is not a valid tag.</p>
<p>The same tag can be specified multiple times for a single test case, but only one of the instances of identical tags will be kept. Which one is kept is functionally random.</p>
<h3><a class="anchor" id="autotoc_md586"></a>
Special Tags</h3>
<p>All tag names beginning with non-alphanumeric characters are reserved by <a class="el" href="namespaceCatch.html">Catch</a>. <a class="el" href="namespaceCatch.html">Catch</a> defines a number of "special" tags, which have meaning to the test runner itself. These special tags all begin with a symbol character. Following is a list of currently defined special tags and their meanings.</p>
<ul>
<li><code>[.]</code> - causes test cases to be skipped from the default list (i.e. when no test cases have been explicitly selected through tag expressions or name wildcards). The hide tag is often combined with another, user, tag (for example <code>[.][integration]</code> - so all integration tests are excluded from the default run but can be run by passing <code>[integration]</code> on the command line). As a short-cut you can combine these by simply prefixing your user tag with a <code>.</code> - e.g. <code>[.integration]</code>.</li>
<li><code>[!throws]</code> - lets <a class="el" href="namespaceCatch.html">Catch</a> know that this test is likely to throw an exception even if successful. This causes the test to be excluded when running with <code>-e</code> or <code>--nothrow</code>.</li>
<li><code>[!mayfail]</code> - doesn't fail the test if any given assertion fails (but still reports it). This can be useful to flag a work-in-progress, or a known issue that you don't want to immediately fix but still want to track in your tests.</li>
<li><code>[!shouldfail]</code> - like <code>[!mayfail]</code> but <em>fails</em> the test if it <em>passes</em>. This can be useful if you want to be notified of accidental, or third-party, fixes.</li>
<li><code>[!nonportable]</code> - Indicates that behaviour may vary between platforms or compilers.</li>
<li><code>[#&lt;filename&gt;]</code> - these tags are added to test cases when you run Catch2 with <a href="command-line.md#filenames-as-tags"><code>-#</code> or <code>--filenames-as-tags</code></a>.</li>
<li><code>[@&lt;alias&gt;]</code> - tag aliases all begin with <code>@</code> (see below).</li>
<li><code>[!benchmark]</code> - this test case is actually a benchmark. Currently this only serves to hide the test case by default, to avoid the execution time costs.</li>
</ul>
<h2><a class="anchor" id="autotoc_md587"></a>
Tag aliases</h2>
<p>Between tag expressions and wildcarded test names (as well as combinations of the two) quite complex patterns can be constructed to direct which test cases are run. If a complex pattern is used often it is convenient to be able to create an alias for the expression. This can be done, in code, using the following form: </p><pre class="fragment">CATCH_REGISTER_TAG_ALIAS( &lt;alias string&gt;, &lt;tag expression&gt; )
</pre><p> Aliases must begin with the <code>@</code> character. An example of a tag alias is: </p><pre class="fragment">CATCH_REGISTER_TAG_ALIAS( "[@nhf]", "[failing]~[.]" )
</pre><p> Now when <code>[@nhf]</code> is used on the command line this matches all tests that are tagged <code>[failing]</code>, but which are not also hidden.</p>
<h2><a class="anchor" id="autotoc_md588"></a>
BDD-style test cases</h2>
<p>In addition to <a class="el" href="namespaceCatch.html">Catch</a>'s take on the classic style of test cases, <a class="el" href="namespaceCatch.html">Catch</a> supports an alternative syntax that allow tests to be written as "executable specifications" (one of the early goals of <a href="http://dannorth.net/introducing-bdd/">Behaviour Driven Development</a>). This set of macros map on to <code>TEST_CASE</code>s and <code>SECTION</code>s, with a little internal support to make them smoother to work with.</p>
<ul>
<li><b>SCENARIO(** <em>scenario name</em> [, <em>tags</em> ] **)</b></li>
</ul>
<p>This macro maps onto <code>TEST_CASE</code> and works in the same way, except that the test case name will be prefixed by "Scenario: "</p>
<ul>
<li><b>GIVEN(** <em>something</em> **)</b></li>
<li><b>WHEN(** <em>something</em> **)</b></li>
<li><b>THEN(** <em>something</em> **)</b></li>
</ul>
<p>These macros map onto <code>SECTION</code>s except that the section names are the <em>something</em> texts prefixed by "given: ", "when: " or "then: " respectively. These macros also map onto the AAA or <a class="el" href="structA.html">A</a><sup>3</sup> test pattern (standing either for <a href="http://wiki.c2.com/?AssembleActivateAssert">Assemble-Activate-Assert</a> or <a href="http://wiki.c2.com/?ArrangeActAssert">Arrange-Act-Assert</a>), and in this context, the macros provide both code documentation and reporting of these parts of a test case without the need for extra comments or code to do so.</p>
<p>Semantically, a <code>GIVEN</code> clause may have multiple <em>independent</em> <code>WHEN</code> clauses within it. This allows a test to have, e.g., one set of "given" objects and multiple subtests using those objects in various ways in each of the <code>WHEN</code> clauses without repeating the initialisation from the <code>GIVEN</code> clause. When there are <em>dependent</em> clauses &ndash; such as a second <code>WHEN</code> clause that should only happen <em>after</em> the previous <code>WHEN</code> clause has been executed and validated &ndash; there are additional macros starting with <code>AND_</code>:</p>
<ul>
<li><b>AND_GIVEN(** <em>something</em> **)</b></li>
<li><b>AND_WHEN(** <em>something</em> **)</b></li>
<li><b>AND_THEN(** <em>something</em> **)</b></li>
</ul>
<p>These are used to chain <code>GIVEN</code>s, <code>WHEN</code>s and <code>THEN</code>s together. The <code>AND_*</code> clause is placed <em>inside</em> the clause on which it depends. There can be multiple <em>independent</em> clauses that are all <em>dependent</em> on a single outer clause. </p><div class="fragment"><div class="line"><a class="code" href="catch__amalgamated_8hpp.html#acf8f441c7b9d70251ccbb7ccd8b83183">SCENARIO</a>( <span class="stringliteral">&quot;vector can be sized and resized&quot;</span> ) {</div>
<div class="line">    <a class="code" href="catch__amalgamated_8hpp.html#a2b70c603786d759242856d883dbe93bd">GIVEN</a>( <span class="stringliteral">&quot;An empty vector&quot;</span> ) {</div>
<div class="line">        <span class="keyword">auto</span> <a class="code" href="namespacedevelopBuild.html#ade64cd34608f9442ef3049116a2da428">v</a> = std::vector&lt;std::string&gt;{};</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Validate assumption of the GIVEN clause</span></div>
<div class="line">        <a class="code" href="catch__amalgamated_8hpp.html#a27987092139727fd7a471b5f74dc62de">THEN</a>( <span class="stringliteral">&quot;The size and capacity start at 0&quot;</span> ) {</div>
<div class="line">            <a class="code" href="catch__amalgamated_8hpp.html#ad57835ba8f1bb419a865ada6bd011a85">REQUIRE</a>( <a class="code" href="namespacedevelopBuild.html#ade64cd34608f9442ef3049116a2da428">v</a>.size() == 0 );</div>
<div class="line">            <a class="code" href="catch__amalgamated_8hpp.html#ad57835ba8f1bb419a865ada6bd011a85">REQUIRE</a>( <a class="code" href="namespacedevelopBuild.html#ade64cd34608f9442ef3049116a2da428">v</a>.capacity() == 0 );</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Validate one use case for the GIVEN object</span></div>
<div class="line">        <a class="code" href="catch__amalgamated_8hpp.html#ab09e9b8186233f676ce6a23aebe89d6e">WHEN</a>( <span class="stringliteral">&quot;push_back() is called&quot;</span> ) {</div>
<div class="line">            <a class="code" href="namespacedevelopBuild.html#ade64cd34608f9442ef3049116a2da428">v</a>.push_back(<span class="stringliteral">&quot;hullo&quot;</span>);</div>
<div class="line"> </div>
<div class="line">            <a class="code" href="catch__amalgamated_8hpp.html#a27987092139727fd7a471b5f74dc62de">THEN</a>( <span class="stringliteral">&quot;The size changes&quot;</span> ) {</div>
<div class="line">                <a class="code" href="catch__amalgamated_8hpp.html#ad57835ba8f1bb419a865ada6bd011a85">REQUIRE</a>( <a class="code" href="namespacedevelopBuild.html#ade64cd34608f9442ef3049116a2da428">v</a>.size() == 1 );</div>
<div class="line">                <a class="code" href="catch__amalgamated_8hpp.html#ad57835ba8f1bb419a865ada6bd011a85">REQUIRE</a>( <a class="code" href="namespacedevelopBuild.html#ade64cd34608f9442ef3049116a2da428">v</a>.capacity() &gt;= 1 );</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="ttc" id="acatch__amalgamated_8hpp_html_a27987092139727fd7a471b5f74dc62de"><div class="ttname"><a href="catch__amalgamated_8hpp.html#a27987092139727fd7a471b5f74dc62de">THEN</a></div><div class="ttdeci">#define THEN(desc)</div><div class="ttdef"><b>Definition:</b> catch_amalgamated.hpp:6288</div></div>
<div class="ttc" id="acatch__amalgamated_8hpp_html_a2b70c603786d759242856d883dbe93bd"><div class="ttname"><a href="catch__amalgamated_8hpp.html#a2b70c603786d759242856d883dbe93bd">GIVEN</a></div><div class="ttdeci">#define GIVEN(desc)</div><div class="ttdef"><b>Definition:</b> catch_amalgamated.hpp:6284</div></div>
<div class="ttc" id="acatch__amalgamated_8hpp_html_ab09e9b8186233f676ce6a23aebe89d6e"><div class="ttname"><a href="catch__amalgamated_8hpp.html#ab09e9b8186233f676ce6a23aebe89d6e">WHEN</a></div><div class="ttdeci">#define WHEN(desc)</div><div class="ttdef"><b>Definition:</b> catch_amalgamated.hpp:6286</div></div>
<div class="ttc" id="acatch__amalgamated_8hpp_html_acf8f441c7b9d70251ccbb7ccd8b83183"><div class="ttname"><a href="catch__amalgamated_8hpp.html#acf8f441c7b9d70251ccbb7ccd8b83183">SCENARIO</a></div><div class="ttdeci">#define SCENARIO(...)</div><div class="ttdef"><b>Definition:</b> catch_amalgamated.hpp:6282</div></div>
<div class="ttc" id="acatch__amalgamated_8hpp_html_ad57835ba8f1bb419a865ada6bd011a85"><div class="ttname"><a href="catch__amalgamated_8hpp.html#ad57835ba8f1bb419a865ada6bd011a85">REQUIRE</a></div><div class="ttdeci">#define REQUIRE(...)</div><div class="ttdef"><b>Definition:</b> catch_amalgamated.hpp:6240</div></div>
<div class="ttc" id="anamespacedevelopBuild_html_ade64cd34608f9442ef3049116a2da428"><div class="ttname"><a href="namespacedevelopBuild.html#ade64cd34608f9442ef3049116a2da428">developBuild.v</a></div><div class="ttdeci">v</div><div class="ttdef"><b>Definition:</b> developBuild.py:5</div></div>
</div><!-- fragment --><p>This code will result in two runs through the scenario: </p><div class="fragment"><div class="line">Scenario : vector can be sized and resized</div>
<div class="line">  Given  : An empty vector</div>
<div class="line">  Then   : The size and capacity start at 0</div>
<div class="line"> </div>
<div class="line">Scenario : vector can be sized and resized</div>
<div class="line">  Given  : An empty vector</div>
<div class="line">  When   : push_back() is called</div>
<div class="line">  Then   : The size changes</div>
</div><!-- fragment --><p>See also <a href="https://godbolt.org/z/eY5a64r99">runnable example on godbolt</a>, with a more complicated (and failing) example.</p>
<blockquote class="doxtable">
<p><code>AND_GIVEN</code> was <a href="https://github.com/catchorg/Catch2/issues/1360">introduced</a> in Catch2 2.4.0. </p>
</blockquote>
<p>When any of these macros are used the console reporter recognises them and formats the test case header such that the Givens, Whens and Thens are aligned to aid readability.</p>
<p>Other than the additional prefixes and the formatting in the console reporter these macros behave exactly as <code>TEST_CASE</code>s and <code>SECTION</code>s. As such there is nothing enforcing the correct sequencing of these macros - that's up to the programmer!</p>
<h2><a class="anchor" id="autotoc_md589"></a>
Type parametrised test cases</h2>
<p>In addition to <code>TEST_CASE</code>s, Catch2 also supports test cases parametrised by types, in the form of <code>TEMPLATE_TEST_CASE</code>, <code>TEMPLATE_PRODUCT_TEST_CASE</code> and <code>TEMPLATE_LIST_TEST_CASE</code>. These macros are defined in the <code><a class="el" href="catch__template__test__macros_8hpp.html">catch_template_test_macros.hpp</a></code> header, so compiling the code examples below also requires <code>#include &lt;<a class="el" href="catch__template__test__macros_8hpp.html">catch2/catch_template_test_macros.hpp</a>&gt;</code>.</p>
<ul>
<li><b>TEMPLATE_TEST_CASE(** <em>test name</em> , <em>tags</em>, <em>type1</em>, <em>type2</em>, ..., <em>typen</em> **)</b></li>
</ul>
<blockquote class="doxtable">
<p><a href="https://github.com/catchorg/Catch2/issues/1437">Introduced</a> in Catch2 2.5.0. </p>
</blockquote>
<p><em>test name</em> and <em>tag</em> are exactly the same as they are in <code>TEST_CASE</code>, with the difference that the tag string must be provided (however, it can be empty). <em>type1</em> through <em>typen</em> is the list of types for which this test case should run, and, inside the test code, the current type is available as the <code>TestType</code> type.</p>
<p>Because of limitations of the C++ preprocessor, if you want to specify a type with multiple template parameters, you need to enclose it in parentheses, e.g. <code>std::map&lt;int, std::string&gt;</code> needs to be passed as <code>(std::map&lt;int, std::string&gt;)</code>.</p>
<p>Example: </p><div class="fragment"><div class="line"><a class="code" href="catch__amalgamated_8hpp.html#a9a88d21bfca0d58782cc5f0811801303">TEMPLATE_TEST_CASE</a>( <span class="stringliteral">&quot;vectors can be sized and resized&quot;</span>, <span class="stringliteral">&quot;[vector][template]&quot;</span>, <span class="keywordtype">int</span>, std::string, (std::tuple&lt;int,float&gt;) ) {</div>
<div class="line"> </div>
<div class="line">    std::vector&lt;TestType&gt; <a class="code" href="namespacedevelopBuild.html#ade64cd34608f9442ef3049116a2da428">v</a>( 5 );</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="catch__amalgamated_8hpp.html#ad57835ba8f1bb419a865ada6bd011a85">REQUIRE</a>( <a class="code" href="namespacedevelopBuild.html#ade64cd34608f9442ef3049116a2da428">v</a>.size() == 5 );</div>
<div class="line">    <a class="code" href="catch__amalgamated_8hpp.html#ad57835ba8f1bb419a865ada6bd011a85">REQUIRE</a>( <a class="code" href="namespacedevelopBuild.html#ade64cd34608f9442ef3049116a2da428">v</a>.capacity() &gt;= 5 );</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="catch__amalgamated_8hpp.html#ad512fd95a78b95770b9759823f8fbc21">SECTION</a>( <span class="stringliteral">&quot;resizing bigger changes size and capacity&quot;</span> ) {</div>
<div class="line">        <a class="code" href="namespacedevelopBuild.html#ade64cd34608f9442ef3049116a2da428">v</a>.resize( 10 );</div>
<div class="line"> </div>
<div class="line">        <a class="code" href="catch__amalgamated_8hpp.html#ad57835ba8f1bb419a865ada6bd011a85">REQUIRE</a>( <a class="code" href="namespacedevelopBuild.html#ade64cd34608f9442ef3049116a2da428">v</a>.size() == 10 );</div>
<div class="line">        <a class="code" href="catch__amalgamated_8hpp.html#ad57835ba8f1bb419a865ada6bd011a85">REQUIRE</a>( <a class="code" href="namespacedevelopBuild.html#ade64cd34608f9442ef3049116a2da428">v</a>.capacity() &gt;= 10 );</div>
<div class="line">    }</div>
<div class="line">    <a class="code" href="catch__amalgamated_8hpp.html#ad512fd95a78b95770b9759823f8fbc21">SECTION</a>( <span class="stringliteral">&quot;resizing smaller changes size but not capacity&quot;</span> ) {</div>
<div class="line">        <a class="code" href="namespacedevelopBuild.html#ade64cd34608f9442ef3049116a2da428">v</a>.resize( 0 );</div>
<div class="line"> </div>
<div class="line">        <a class="code" href="catch__amalgamated_8hpp.html#ad57835ba8f1bb419a865ada6bd011a85">REQUIRE</a>( <a class="code" href="namespacedevelopBuild.html#ade64cd34608f9442ef3049116a2da428">v</a>.size() == 0 );</div>
<div class="line">        <a class="code" href="catch__amalgamated_8hpp.html#ad57835ba8f1bb419a865ada6bd011a85">REQUIRE</a>( <a class="code" href="namespacedevelopBuild.html#ade64cd34608f9442ef3049116a2da428">v</a>.capacity() &gt;= 5 );</div>
<div class="line"> </div>
<div class="line">        <a class="code" href="catch__amalgamated_8hpp.html#ad512fd95a78b95770b9759823f8fbc21">SECTION</a>( <span class="stringliteral">&quot;We can use the &#39;swap trick&#39; to reset the capacity&quot;</span> ) {</div>
<div class="line">            std::vector&lt;TestType&gt; <a class="code" href="namespaceCatch_1_1Detail.html#a714012d32a8bc2ebcc88ec12e0aab80c">empty</a>;</div>
<div class="line">            <a class="code" href="namespaceCatch_1_1Detail.html#a714012d32a8bc2ebcc88ec12e0aab80c">empty</a>.swap( <a class="code" href="namespacedevelopBuild.html#ade64cd34608f9442ef3049116a2da428">v</a> );</div>
<div class="line"> </div>
<div class="line">            <a class="code" href="catch__amalgamated_8hpp.html#ad57835ba8f1bb419a865ada6bd011a85">REQUIRE</a>( <a class="code" href="namespacedevelopBuild.html#ade64cd34608f9442ef3049116a2da428">v</a>.capacity() == 0 );</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">    <a class="code" href="catch__amalgamated_8hpp.html#ad512fd95a78b95770b9759823f8fbc21">SECTION</a>( <span class="stringliteral">&quot;reserving smaller does not change size or capacity&quot;</span> ) {</div>
<div class="line">        <a class="code" href="namespacedevelopBuild.html#ade64cd34608f9442ef3049116a2da428">v</a>.reserve( 0 );</div>
<div class="line"> </div>
<div class="line">        <a class="code" href="catch__amalgamated_8hpp.html#ad57835ba8f1bb419a865ada6bd011a85">REQUIRE</a>( <a class="code" href="namespacedevelopBuild.html#ade64cd34608f9442ef3049116a2da428">v</a>.size() == 5 );</div>
<div class="line">        <a class="code" href="catch__amalgamated_8hpp.html#ad57835ba8f1bb419a865ada6bd011a85">REQUIRE</a>( <a class="code" href="namespacedevelopBuild.html#ade64cd34608f9442ef3049116a2da428">v</a>.capacity() &gt;= 5 );</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="ttc" id="acatch__amalgamated_8hpp_html_a9a88d21bfca0d58782cc5f0811801303"><div class="ttname"><a href="catch__amalgamated_8hpp.html#a9a88d21bfca0d58782cc5f0811801303">TEMPLATE_TEST_CASE</a></div><div class="ttdeci">#define TEMPLATE_TEST_CASE(...)</div><div class="ttdef"><b>Definition:</b> catch_amalgamated.hpp:6953</div></div>
<div class="ttc" id="acatch__amalgamated_8hpp_html_ad512fd95a78b95770b9759823f8fbc21"><div class="ttname"><a href="catch__amalgamated_8hpp.html#ad512fd95a78b95770b9759823f8fbc21">SECTION</a></div><div class="ttdeci">#define SECTION(...)</div><div class="ttdef"><b>Definition:</b> catch_amalgamated.hpp:6261</div></div>
<div class="ttc" id="anamespaceCatch_1_1Detail_html_a714012d32a8bc2ebcc88ec12e0aab80c"><div class="ttname"><a href="namespaceCatch_1_1Detail.html#a714012d32a8bc2ebcc88ec12e0aab80c">Catch::Detail::empty</a></div><div class="ttdeci">constexpr auto empty(Container const &amp;cont) -&gt; decltype(cont.empty())</div><div class="ttdef"><b>Definition:</b> catch_container_nonmembers.hpp:42</div></div>
</div><!-- fragment --><ul>
<li><b>TEMPLATE_PRODUCT_TEST_CASE(** <em>test name</em> , <em>tags</em>, (<em>template-type1</em>, <em>template-type2</em>, ..., <em>template-typen</em>), (<em>template-arg1</em>, <em>template-arg2</em>, ..., <em>template-argm</em>) **)</b></li>
</ul>
<blockquote class="doxtable">
<p><a href="https://github.com/catchorg/Catch2/issues/1468">Introduced</a> in Catch2 2.6.0. </p>
</blockquote>
<p><em>template-type1</em> through <em>template-typen</em> is list of template types which should be combined with each of <em>template-arg1</em> through <em>template-argm</em>, resulting in <em>n * m</em> test cases. Inside the test case, the resulting type is available under the name of <code>TestType</code>.</p>
<p>To specify more than 1 type as a single <em>template-type</em> or <em>template-arg</em>, you must enclose the types in an additional set of parentheses, e.g. <code>((int, float), (char, double))</code> specifies 2 template-args, each consisting of 2 concrete types (<code>int</code>, <code>float</code> and <code>char</code>, <code>double</code> respectively). You can also omit the outer set of parentheses if you specify only one type as the full set of either the <em>template-types</em>, or the <em>template-args</em>.</p>
<p>Example: </p><div class="fragment"><div class="line"><span class="keyword">template</span>&lt; <span class="keyword">typename</span> T&gt;</div>
<div class="line"><span class="keyword">struct </span>Foo {</div>
<div class="line">    <span class="keywordtype">size_t</span> <a class="code" href="namespaceCatch_1_1Detail.html#a55994724b37be409ad8185ee738a0781">size</a>() {</div>
<div class="line">        <span class="keywordflow">return</span> 0;</div>
<div class="line">    }</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><a class="code" href="catch__amalgamated_8hpp.html#a76578a19e481e4ccdb928e68a17478d5">TEMPLATE_PRODUCT_TEST_CASE</a>(<span class="stringliteral">&quot;A Template product test case&quot;</span>, <span class="stringliteral">&quot;[template][product]&quot;</span>, (std::vector, Foo), (<span class="keywordtype">int</span>, <span class="keywordtype">float</span>)) {</div>
<div class="line">    TestType <a class="code" href="catch__amalgamated_8cpp.html#a6abfb3eb1e8098e09b8a4d1fc295b265">x</a>;</div>
<div class="line">    <a class="code" href="catch__amalgamated_8hpp.html#ad57835ba8f1bb419a865ada6bd011a85">REQUIRE</a>(<a class="code" href="catch__amalgamated_8cpp.html#a6abfb3eb1e8098e09b8a4d1fc295b265">x</a>.size() == 0);</div>
<div class="line">}</div>
<div class="ttc" id="acatch__amalgamated_8cpp_html_a6abfb3eb1e8098e09b8a4d1fc295b265"><div class="ttname"><a href="catch__amalgamated_8cpp.html#a6abfb3eb1e8098e09b8a4d1fc295b265">x</a></div><div class="ttdeci">return p * x</div><div class="ttdef"><b>Definition:</b> catch_amalgamated.cpp:315</div></div>
<div class="ttc" id="acatch__amalgamated_8hpp_html_a76578a19e481e4ccdb928e68a17478d5"><div class="ttname"><a href="catch__amalgamated_8hpp.html#a76578a19e481e4ccdb928e68a17478d5">TEMPLATE_PRODUCT_TEST_CASE</a></div><div class="ttdeci">#define TEMPLATE_PRODUCT_TEST_CASE(...)</div><div class="ttdef"><b>Definition:</b> catch_amalgamated.hpp:6957</div></div>
<div class="ttc" id="anamespaceCatch_1_1Detail_html_a55994724b37be409ad8185ee738a0781"><div class="ttname"><a href="namespaceCatch_1_1Detail.html#a55994724b37be409ad8185ee738a0781">Catch::Detail::size</a></div><div class="ttdeci">constexpr auto size(Container const &amp;cont) -&gt; decltype(cont.size())</div><div class="ttdef"><b>Definition:</b> catch_container_nonmembers.hpp:59</div></div>
</div><!-- fragment --><p>You can also have different arities in the <em>template-arg</em> packs: </p><div class="fragment"><div class="line"><a class="code" href="catch__amalgamated_8hpp.html#a76578a19e481e4ccdb928e68a17478d5">TEMPLATE_PRODUCT_TEST_CASE</a>(<span class="stringliteral">&quot;Product with differing arities&quot;</span>, <span class="stringliteral">&quot;[template][product]&quot;</span>, std::tuple, (<span class="keywordtype">int</span>, (<span class="keywordtype">int</span>, <span class="keywordtype">double</span>), (<span class="keywordtype">int</span>, <span class="keywordtype">double</span>, <span class="keywordtype">float</span>))) {</div>
<div class="line">    TestType <a class="code" href="catch__amalgamated_8cpp.html#a6abfb3eb1e8098e09b8a4d1fc295b265">x</a>;</div>
<div class="line">    <a class="code" href="catch__amalgamated_8hpp.html#ad57835ba8f1bb419a865ada6bd011a85">REQUIRE</a>(<a class="code" href="catch__amalgamated_8cpp.html#a5dcc1560b74135e065519bc3986c14b1">std::tuple_size&lt;TestType&gt;::value</a> &gt;= 1);</div>
<div class="line">}</div>
<div class="ttc" id="acatch__amalgamated_8cpp_html_a5dcc1560b74135e065519bc3986c14b1"><div class="ttname"><a href="catch__amalgamated_8cpp.html#a5dcc1560b74135e065519bc3986c14b1">value</a></div><div class="ttdeci">StringRef value</div><div class="ttdef"><b>Definition:</b> catch_amalgamated.cpp:5196</div></div>
</div><!-- fragment --><ul>
<li><b>TEMPLATE_LIST_TEST_CASE(** <em>test name</em>, <em>tags</em>, <em>type list</em> **)</b></li>
</ul>
<blockquote class="doxtable">
<p><a href="https://github.com/catchorg/Catch2/issues/1627">Introduced</a> in Catch2 2.9.0. </p>
</blockquote>
<p><em>type list</em> is a generic list of types on which test case should be instantiated. List can be <code>std::tuple</code>, <code>boost::mpl::list</code>, <code>boost::mp11::mp_list</code> or anything with <code>template &lt;typename...&gt;</code> signature.</p>
<p>This allows you to reuse the <em>type list</em> in multiple test cases.</p>
<p>Example: </p><div class="fragment"><div class="line"><span class="keyword">using</span> <a class="code" href="Class_8tests_8cpp.html#a5f800cb8606d89d140864b09e4f9f6f4">MyTypes</a> = std::tuple&lt;int, char, float&gt;;</div>
<div class="line"><a class="code" href="catch__amalgamated_8hpp.html#a6c5f7165be1abd8331be1a47a446f20a">TEMPLATE_LIST_TEST_CASE</a>(<span class="stringliteral">&quot;Template test case with test types specified inside std::tuple&quot;</span>, <span class="stringliteral">&quot;[template][list]&quot;</span>, <a class="code" href="Class_8tests_8cpp.html#a5f800cb8606d89d140864b09e4f9f6f4">MyTypes</a>)</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="catch__amalgamated_8hpp.html#ad57835ba8f1bb419a865ada6bd011a85">REQUIRE</a>(<span class="keyword">sizeof</span>(TestType) &gt; 0);</div>
<div class="line">}</div>
<div class="ttc" id="aClass_8tests_8cpp_html_a5f800cb8606d89d140864b09e4f9f6f4"><div class="ttname"><a href="Class_8tests_8cpp.html#a5f800cb8606d89d140864b09e4f9f6f4">MyTypes</a></div><div class="ttdeci">std::tuple&lt; int, char, double &gt; MyTypes</div><div class="ttdef"><b>Definition:</b> Class.tests.cpp:85</div></div>
<div class="ttc" id="acatch__amalgamated_8hpp_html_a6c5f7165be1abd8331be1a47a446f20a"><div class="ttname"><a href="catch__amalgamated_8hpp.html#a6c5f7165be1abd8331be1a47a446f20a">TEMPLATE_LIST_TEST_CASE</a></div><div class="ttdeci">#define TEMPLATE_LIST_TEST_CASE(...)</div><div class="ttdef"><b>Definition:</b> catch_amalgamated.hpp:6961</div></div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md590"></a>
Signature based parametrised test cases</h2>
<blockquote class="doxtable">
<p><a href="https://github.com/catchorg/Catch2/issues/1609">Introduced</a> in Catch2 2.8.0. </p>
</blockquote>
<p>In addition to <a href="#type-parametrised-test-cases">type parametrised test cases</a> Catch2 also supports signature base parametrised test cases, in form of <code>TEMPLATE_TEST_CASE_SIG</code> and <code>TEMPLATE_PRODUCT_TEST_CASE_SIG</code>. These test cases have similar syntax like <a href="#type-parametrised-test-cases">type parametrised test cases</a>, with one additional positional argument which specifies the signature. These macros are defined in the <code><a class="el" href="catch__template__test__macros_8hpp.html">catch_template_test_macros.hpp</a></code> header, so compiling the code examples below also requires <code>#include &lt;<a class="el" href="catch__template__test__macros_8hpp.html">catch2/catch_template_test_macros.hpp</a>&gt;</code>.</p>
<h3><a class="anchor" id="autotoc_md591"></a>
Signature</h3>
<p>Signature has some strict rules for these tests cases to work properly:</p><ul>
<li>signature with multiple template parameters e.g. <code>typename T, size_t <a class="el" href="structS.html">S</a></code> must have this format in test case declaration <code>((typename T, size_t <a class="el" href="structS.html">S</a>), T, <a class="el" href="structS.html">S</a>)</code></li>
<li>signature with variadic template arguments e.g. <code>typename T, size_t <a class="el" href="structS.html">S</a>, typename...Ts</code> must have this format in test case declaration <code>((typename T, size_t <a class="el" href="structS.html">S</a>, typename...Ts), T, <a class="el" href="structS.html">S</a>, Ts...)</code></li>
<li>signature with single non type template parameter e.g. <code>int V</code> must have this format in test case declaration <code>((int V), V)</code></li>
<li>signature with single type template parameter e.g. <code>typename T</code> should not be used as it is in fact <code>TEMPLATE_TEST_CASE</code></li>
</ul>
<p>Currently Catch2 support up to 11 template parameters in signature</p>
<h3><a class="anchor" id="autotoc_md592"></a>
Examples</h3>
<ul>
<li><b>TEMPLATE_TEST_CASE_SIG(** <em>test name</em> , <em>tags</em>, <em>signature</em>, <em>type1</em>, <em>type2</em>, ..., <em>typen</em> **)</b></li>
</ul>
<p>Inside <code>TEMPLATE_TEST_CASE_SIG</code> test case you can use the names of template parameters as defined in <em>signature</em>.</p>
<div class="fragment"><div class="line"><a class="code" href="catch__amalgamated_8hpp.html#a4286bffddeb38a4e793ef35b7555f474">TEMPLATE_TEST_CASE_SIG</a>(<span class="stringliteral">&quot;TemplateTestSig: arrays can be created from NTTP arguments&quot;</span>, <span class="stringliteral">&quot;[vector][template][nttp]&quot;</span>,</div>
<div class="line">  ((<span class="keyword">typename</span> T, <span class="keywordtype">int</span> V), T, V), (<span class="keywordtype">int</span>,5), (<span class="keywordtype">float</span>,4), (std::string,15), ((std::tuple&lt;int, float&gt;), 6)) {</div>
<div class="line"> </div>
<div class="line">    std::array&lt;T, V&gt; <a class="code" href="namespacedevelopBuild.html#ade64cd34608f9442ef3049116a2da428">v</a>;</div>
<div class="line">    <a class="code" href="catch__amalgamated_8hpp.html#ad57835ba8f1bb419a865ada6bd011a85">REQUIRE</a>(<a class="code" href="namespacedevelopBuild.html#ade64cd34608f9442ef3049116a2da428">v</a>.size() &gt; 1);</div>
<div class="line">}</div>
<div class="ttc" id="acatch__amalgamated_8hpp_html_a4286bffddeb38a4e793ef35b7555f474"><div class="ttname"><a href="catch__amalgamated_8hpp.html#a4286bffddeb38a4e793ef35b7555f474">TEMPLATE_TEST_CASE_SIG</a></div><div class="ttdeci">#define TEMPLATE_TEST_CASE_SIG(...)</div><div class="ttdef"><b>Definition:</b> catch_amalgamated.hpp:6954</div></div>
</div><!-- fragment --><ul>
<li><b>TEMPLATE_PRODUCT_TEST_CASE_SIG(** <em>test name</em> , <em>tags</em>, <em>signature</em>, (<em>template-type1</em>, <em>template-type2</em>, ..., <em>template-typen</em>), (<em>template-arg1</em>, <em>template-arg2</em>, ..., <em>template-argm</em>) **)</b></li>
</ul>
<div class="fragment"><div class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T, <span class="keywordtype">size_t</span> S&gt;</div>
<div class="line"><span class="keyword">struct </span>Bar {</div>
<div class="line">    <span class="keywordtype">size_t</span> <a class="code" href="namespaceCatch_1_1Detail.html#a55994724b37be409ad8185ee738a0781">size</a>() { <span class="keywordflow">return</span> <a class="code" href="structS.html">S</a>; }</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><a class="code" href="Misc_8tests_8cpp.html#adac4a7f84ad618104f304b9c78cd682a">TEMPLATE_PRODUCT_TEST_CASE_SIG</a>(<span class="stringliteral">&quot;A Template product test case with array signature&quot;</span>, <span class="stringliteral">&quot;[template][product][nttp]&quot;</span>, ((<span class="keyword">typename</span> T, <span class="keywordtype">size_t</span> <a class="code" href="structS.html">S</a>), T, <a class="code" href="structS.html">S</a>), (std::array, Bar), ((<span class="keywordtype">int</span>, 9), (<span class="keywordtype">float</span>, 42))) {</div>
<div class="line">    TestType <a class="code" href="catch__amalgamated_8cpp.html#a6abfb3eb1e8098e09b8a4d1fc295b265">x</a>;</div>
<div class="line">    <a class="code" href="catch__amalgamated_8hpp.html#ad57835ba8f1bb419a865ada6bd011a85">REQUIRE</a>(<a class="code" href="catch__amalgamated_8cpp.html#a6abfb3eb1e8098e09b8a4d1fc295b265">x</a>.size() &gt; 0);</div>
<div class="line">}</div>
<div class="ttc" id="aMisc_8tests_8cpp_html_adac4a7f84ad618104f304b9c78cd682a"><div class="ttname"><a href="Misc_8tests_8cpp.html#adac4a7f84ad618104f304b9c78cd682a">TEMPLATE_PRODUCT_TEST_CASE_SIG</a></div><div class="ttdeci">TEMPLATE_PRODUCT_TEST_CASE_SIG(&quot;A Template product test case with array signature&quot;, &quot;[template][product][nttp]&quot;,((typename T, size_t S), T, S),(std::array, Bar),((int, 9),(float, 42)))</div><div class="ttdef"><b>Definition:</b> Misc.tests.cpp:382</div></div>
<div class="ttc" id="astructS_html"><div class="ttname"><a href="structS.html">S</a></div><div class="ttdef"><b>Definition:</b> Tricky.tests.cpp:277</div></div>
</div><!-- fragment --><hr  />
<p><a href="Readme.md#top">Home</a> </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
