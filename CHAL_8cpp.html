<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Software Ontwikkeling: app/Core/Src/CHAL.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="placeholder.jpg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Software Ontwikkeling
   &#160;<span id="projectnumber">0</span>
   </div>
   <div id="projectbrief">placeholder</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_d422163b96683743ed3963d4aac17747.html">app</a></li><li class="navelem"><a class="el" href="dir_532b70cea5e722f89f49332a716ee57b.html">Core</a></li><li class="navelem"><a class="el" href="dir_270df0c00d9d785c3c600265969272ba.html">Src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">CHAL.cpp File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>UART and DMA initialization functions.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="CHAL_8h_source.html">CHAL.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="BL__parser_8h_source.html">BL_parser.h</a>&quot;</code><br />
<code>#include &quot;string.h&quot;</code><br />
<code>#include &lt;cstdio&gt;</code><br />
<code>#include &lt;queue&gt;</code><br />
<code>#include &lt;string&gt;</code><br />
<code>#include &lt;vector&gt;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:afa7be4e5be306b11426df9f112455e2a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="CHAL_8cpp.html#afa7be4e5be306b11426df9f112455e2a">CHAL_init_uart</a> (void)</td></tr>
<tr class="memdesc:afa7be4e5be306b11426df9f112455e2a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the UART and GPIO interface by calling the GPIO and UART init functions.  <a href="CHAL_8cpp.html#afa7be4e5be306b11426df9f112455e2a">More...</a><br /></td></tr>
<tr class="separator:afa7be4e5be306b11426df9f112455e2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3012092a42f67992777385032706d958"><td class="memItemLeft" align="right" valign="top"><a class="el" href="CHAL_8h.html#a29bb1dffd52091a90580c7dcdf5a663c">CHAL_StatusTypeDef</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="CHAL_8cpp.html#a3012092a42f67992777385032706d958">CHAL_GPIO_UART_init</a> (void)</td></tr>
<tr class="memdesc:a3012092a42f67992777385032706d958"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the GPIO for UART (Sets P2 and P3 for alternate functionality).  <a href="CHAL_8cpp.html#a3012092a42f67992777385032706d958">More...</a><br /></td></tr>
<tr class="separator:a3012092a42f67992777385032706d958"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5dff1bc709ae53293df402d7a1d9a8ef"><td class="memItemLeft" align="right" valign="top"><a class="el" href="CHAL_8h.html#a29bb1dffd52091a90580c7dcdf5a663c">CHAL_StatusTypeDef</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="CHAL_8cpp.html#a5dff1bc709ae53293df402d7a1d9a8ef">CHAL_uart_config</a> (uint32_t BaudRate)</td></tr>
<tr class="memdesc:a5dff1bc709ae53293df402d7a1d9a8ef"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the UART interface with the desired settings and sets IRQ settings of USART2 in the NVIC.  <a href="CHAL_8cpp.html#a5dff1bc709ae53293df402d7a1d9a8ef">More...</a><br /></td></tr>
<tr class="separator:a5dff1bc709ae53293df402d7a1d9a8ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c242a36873fdf73e1cc61643eca13f1"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="CHAL_8cpp.html#a1c242a36873fdf73e1cc61643eca13f1">CHAL_UART2_get_char</a> (void)</td></tr>
<tr class="memdesc:a1c242a36873fdf73e1cc61643eca13f1"><td class="mdescLeft">&#160;</td><td class="mdescRight">waits until a char is received by the UART.  <a href="CHAL_8cpp.html#a1c242a36873fdf73e1cc61643eca13f1">More...</a><br /></td></tr>
<tr class="separator:a1c242a36873fdf73e1cc61643eca13f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c6acbec6c127f7f867fc45d23ee7922"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="CHAL_8cpp.html#a2c6acbec6c127f7f867fc45d23ee7922">CHAL_UART2_SendChar</a> (char c)</td></tr>
<tr class="memdesc:a2c6acbec6c127f7f867fc45d23ee7922"><td class="mdescLeft">&#160;</td><td class="mdescRight">waits until a char can be transmitted by the UART and sends a char if possible.  <a href="CHAL_8cpp.html#a2c6acbec6c127f7f867fc45d23ee7922">More...</a><br /></td></tr>
<tr class="separator:a2c6acbec6c127f7f867fc45d23ee7922"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca1ef0de865f2f1417b1995d8d3f558c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="CHAL_8cpp.html#aca1ef0de865f2f1417b1995d8d3f558c">CHAL_UART2_SendString</a> (char *string, uint16_t length)</td></tr>
<tr class="memdesc:aca1ef0de865f2f1417b1995d8d3f558c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends a string over UART in blocking mode.  <a href="CHAL_8cpp.html#aca1ef0de865f2f1417b1995d8d3f558c">More...</a><br /></td></tr>
<tr class="separator:aca1ef0de865f2f1417b1995d8d3f558c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a57f64d22e111716ba671be129283f1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="CHAL_8cpp.html#a7a57f64d22e111716ba671be129283f1">CHAL_UART2_SendString</a> (std::string str)</td></tr>
<tr class="separator:a7a57f64d22e111716ba671be129283f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a953e4af68f6fb2f74acb37f3e952f3ed"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="CHAL_8cpp.html#a953e4af68f6fb2f74acb37f3e952f3ed">CHAL_disable_DMA</a> (<a class="el" href="structDMA__Stream__TypeDef.html">DMA_Stream_TypeDef</a> *<a class="el" href="catch__reporter__tap_8cpp.html#aeacb68b8c7e9ae9b97ab9c6ab41940cb">stream</a>)</td></tr>
<tr class="memdesc:a953e4af68f6fb2f74acb37f3e952f3ed"><td class="mdescLeft">&#160;</td><td class="mdescRight">Disables a specified DMA stream.  <a href="CHAL_8cpp.html#a953e4af68f6fb2f74acb37f3e952f3ed">More...</a><br /></td></tr>
<tr class="separator:a953e4af68f6fb2f74acb37f3e952f3ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a220e02d9f5547a48d91d2f68468204b1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="CHAL_8cpp.html#a220e02d9f5547a48d91d2f68468204b1">CHAL_enable_DMA</a> (<a class="el" href="structDMA__Stream__TypeDef.html">DMA_Stream_TypeDef</a> *<a class="el" href="catch__reporter__tap_8cpp.html#aeacb68b8c7e9ae9b97ab9c6ab41940cb">stream</a>)</td></tr>
<tr class="memdesc:a220e02d9f5547a48d91d2f68468204b1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enables a specified DMA stream.  <a href="CHAL_8cpp.html#a220e02d9f5547a48d91d2f68468204b1">More...</a><br /></td></tr>
<tr class="separator:a220e02d9f5547a48d91d2f68468204b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc09b56d3ee94fc3f4a37bd4e7b142f3"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="CHAL_8cpp.html#afc09b56d3ee94fc3f4a37bd4e7b142f3">CHAL_DMA_Init</a> (void)</td></tr>
<tr class="memdesc:afc09b56d3ee94fc3f4a37bd4e7b142f3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the requires bits of the DMA to enable DMA with UART in circular mode.  <a href="CHAL_8cpp.html#afc09b56d3ee94fc3f4a37bd4e7b142f3">More...</a><br /></td></tr>
<tr class="separator:afc09b56d3ee94fc3f4a37bd4e7b142f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f98013a7ce7ca372b3b3729039a085d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="CHAL_8cpp.html#a2f98013a7ce7ca372b3b3729039a085d">CHAL_DMA_config</a> (uint32_t srcAdd, uint32_t destAdd, uint16_t datasize)</td></tr>
<tr class="memdesc:a2f98013a7ce7ca372b3b3729039a085d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the requires bits of the DMA to enable DMA with UART in circular mode.  <a href="CHAL_8cpp.html#a2f98013a7ce7ca372b3b3729039a085d">More...</a><br /></td></tr>
<tr class="separator:a2f98013a7ce7ca372b3b3729039a085d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5ae978e22bba8d84dcb0a3d8567d4b0"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="CHAL_8cpp.html#ad5ae978e22bba8d84dcb0a3d8567d4b0">CHAL_clear_status_regs</a> ()</td></tr>
<tr class="memdesc:ad5ae978e22bba8d84dcb0a3d8567d4b0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clears the status register of the DMA.  <a href="CHAL_8cpp.html#ad5ae978e22bba8d84dcb0a3d8567d4b0">More...</a><br /></td></tr>
<tr class="separator:ad5ae978e22bba8d84dcb0a3d8567d4b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67ff5645b1376655db3cf664074ef899"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="CHAL_8cpp.html#a67ff5645b1376655db3cf664074ef899">CHAL_init_DMA_timers</a> ()</td></tr>
<tr class="memdesc:a67ff5645b1376655db3cf664074ef899"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets DMA priority and enables DMA1 peripheral clock.  <a href="CHAL_8cpp.html#a67ff5645b1376655db3cf664074ef899">More...</a><br /></td></tr>
<tr class="separator:a67ff5645b1376655db3cf664074ef899"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2718437cceccea28ea971f88256f4cf8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="CHAL_8cpp.html#a2718437cceccea28ea971f88256f4cf8">CHAL_clear_idledetect</a> ()</td></tr>
<tr class="memdesc:a2718437cceccea28ea971f88256f4cf8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clears the idle line detection of the UART.  <a href="CHAL_8cpp.html#a2718437cceccea28ea971f88256f4cf8">More...</a><br /></td></tr>
<tr class="separator:a2718437cceccea28ea971f88256f4cf8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95e2ee1987bfe74df3d84fff8a5ecc85"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="CHAL_8cpp.html#a95e2ee1987bfe74df3d84fff8a5ecc85">CHAL_push_to_q</a> (uint8_t *<a class="el" href="main_8c.html#a01f1b19dd2b36d56f7c132ab18cb8e54">rx_buff</a>, uint16_t bufferlength)</td></tr>
<tr class="memdesc:a95e2ee1987bfe74df3d84fff8a5ecc85"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="structA.html">A</a> new polled function to move the data from the DMA receive buffer to a queue.  <a href="CHAL_8cpp.html#a95e2ee1987bfe74df3d84fff8a5ecc85">More...</a><br /></td></tr>
<tr class="separator:a95e2ee1987bfe74df3d84fff8a5ecc85"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a73272eb3ed57889713d8a0c566839d33"><td class="memItemLeft" align="right" valign="top">std::queue&lt; std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="CHAL_8cpp.html#a73272eb3ed57889713d8a0c566839d33">incoming_commands_q</a></td></tr>
<tr class="separator:a73272eb3ed57889713d8a0c566839d33"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0da16fdad8dd2b6cbf4dd4428dd86c8"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="CHAL_8cpp.html#ac0da16fdad8dd2b6cbf4dd4428dd86c8">tempMainBuffer</a> [<a class="el" href="BL__parser_8h.html#a6b20d41d6252e9871430c242cb1a56e7">BUFFER_SIZE</a>]</td></tr>
<tr class="separator:ac0da16fdad8dd2b6cbf4dd4428dd86c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37722a150250e2a5a98e5e0d11e53449"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="CHAL_8cpp.html#a37722a150250e2a5a98e5e0d11e53449">start</a> = 0</td></tr>
<tr class="separator:a37722a150250e2a5a98e5e0d11e53449"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>UART and DMA initialization functions. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a2718437cceccea28ea971f88256f4cf8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2718437cceccea28ea971f88256f4cf8">&#9670;&nbsp;</a></span>CHAL_clear_idledetect()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CHAL_clear_idledetect </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Clears the idle line detection of the UART. </p>
<p>Clearing the IT flags in the SR register can be done by reading the SR and DR registers</p>
<dl class="section return"><dt>Returns</dt><dd>void This function does not return a value. </dd></dl>

</div>
</div>
<a id="ad5ae978e22bba8d84dcb0a3d8567d4b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad5ae978e22bba8d84dcb0a3d8567d4b0">&#9670;&nbsp;</a></span>CHAL_clear_status_regs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t CHAL_clear_status_regs </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Clears the status register of the DMA. </p>
<p>This is needed because the status register need to be empty in order to set the enable bit after the settings are written.</p>
<dl class="section note"><dt>Note</dt><dd>DMA1 -&gt; stream 5 -&gt; HIFCR</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>uint8_t This function returns a status (0 = OK, 1 = ERROR) </dd></dl>

</div>
</div>
<a id="a953e4af68f6fb2f74acb37f3e952f3ed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a953e4af68f6fb2f74acb37f3e952f3ed">&#9670;&nbsp;</a></span>CHAL_disable_DMA()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CHAL_disable_DMA </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structDMA__Stream__TypeDef.html">DMA_Stream_TypeDef</a> *&#160;</td>
          <td class="paramname"><em>stream</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Disables a specified DMA stream. </p>
<p>This function disables the given DMA stream by clearing the relevant enable bit in the DMA control register. It ensures that the DMA stream is properly disabled before any further configuration or usage.</p>
<dl class="section note"><dt>Note</dt><dd>This function needs to be called if ANY of the registers of the DMA controller is set or cleared manually.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">stream</td><td><a class="el" href="structA.html">A</a> pointer to the DMA stream to be disabled. This should be a valid pointer to a <a class="el" href="structDMA__Stream__TypeDef.html" title="DMA Controller.">DMA_Stream_TypeDef</a> structure.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void This function does not return a value. </dd></dl>

</div>
</div>
<a id="a2f98013a7ce7ca372b3b3729039a085d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2f98013a7ce7ca372b3b3729039a085d">&#9670;&nbsp;</a></span>CHAL_DMA_config()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CHAL_DMA_config </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>srcAdd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>destAdd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>datasize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the requires bits of the DMA to enable DMA with UART in circular mode. </p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000006">Todo:</a></b></dt><dd>Add the settings in the doxygen</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>uint8_t This function returns a status (0 = OK, 1 = ERROR) </dd></dl>

</div>
</div>
<a id="afc09b56d3ee94fc3f4a37bd4e7b142f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc09b56d3ee94fc3f4a37bd4e7b142f3">&#9670;&nbsp;</a></span>CHAL_DMA_Init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t CHAL_DMA_Init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the requires bits of the DMA to enable DMA with UART in circular mode. </p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000005">Todo:</a></b></dt><dd>Add the settings in the doxygen</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>uint8_t This function returns a status (0 = OK, 1 = ERROR) </dd></dl>

</div>
</div>
<a id="a220e02d9f5547a48d91d2f68468204b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a220e02d9f5547a48d91d2f68468204b1">&#9670;&nbsp;</a></span>CHAL_enable_DMA()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CHAL_enable_DMA </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structDMA__Stream__TypeDef.html">DMA_Stream_TypeDef</a> *&#160;</td>
          <td class="paramname"><em>stream</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enables a specified DMA stream. </p>
<p>This function enables the given DMA stream by setting the relevant enable bit in the DMA control register. It ensures that the DMA stream is properly disabled before any further configuration or usage.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">stream</td><td><a class="el" href="structA.html">A</a> pointer to the DMA stream to be disabled. This should be a valid pointer to a <a class="el" href="structDMA__Stream__TypeDef.html" title="DMA Controller.">DMA_Stream_TypeDef</a> structure.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void This function does not return a value. </dd></dl>

</div>
</div>
<a id="a3012092a42f67992777385032706d958"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3012092a42f67992777385032706d958">&#9670;&nbsp;</a></span>CHAL_GPIO_UART_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="CHAL_8h.html#a29bb1dffd52091a90580c7dcdf5a663c">CHAL_StatusTypeDef</a> CHAL_GPIO_UART_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes the GPIO for UART (Sets P2 and P3 for alternate functionality). </p>
<dl class="section return"><dt>Returns</dt><dd>CHAL_StatusTypeDef returns 0 </dd></dl>

</div>
</div>
<a id="a67ff5645b1376655db3cf664074ef899"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a67ff5645b1376655db3cf664074ef899">&#9670;&nbsp;</a></span>CHAL_init_DMA_timers()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t CHAL_init_DMA_timers </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets DMA priority and enables DMA1 peripheral clock. </p>
<dl class="section return"><dt>Returns</dt><dd>uint8_t This function returns a status (0 = OK, 1 = ERROR) </dd></dl>

</div>
</div>
<a id="afa7be4e5be306b11426df9f112455e2a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa7be4e5be306b11426df9f112455e2a">&#9670;&nbsp;</a></span>CHAL_init_uart()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CHAL_init_uart </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes the UART and GPIO interface by calling the GPIO and UART init functions. </p>
<p>This function initializes the GPIO pins for UART functionality and enables RCC clock for USART.</p>
<p>It calls the low-level initialization functions <code>CHAL_GPIO_UART_init</code> and <code>CHAL_uart_init</code> to configure the hardware.</p>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

</div>
</div>
<a id="a95e2ee1987bfe74df3d84fff8a5ecc85"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a95e2ee1987bfe74df3d84fff8a5ecc85">&#9670;&nbsp;</a></span>CHAL_push_to_q()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CHAL_push_to_q </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>rx_buff</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>bufferlength</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><a class="el" href="structA.html">A</a> new polled function to move the data from the DMA receive buffer to a queue. </p>
<p>The data is send to a larger array to form a queue that can be used by the following layers.</p>
<p>The function can handle one line at a time (until LF)</p>
<dl class="section return"><dt>Returns</dt><dd>void This function does not return a value. </dd></dl>

</div>
</div>
<a id="a1c242a36873fdf73e1cc61643eca13f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1c242a36873fdf73e1cc61643eca13f1">&#9670;&nbsp;</a></span>CHAL_UART2_get_char()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t CHAL_UART2_get_char </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>waits until a char is received by the UART. </p>
<dl class="section note"><dt>Note</dt><dd>This is a blocking function and needs to be avoided</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>char returns the received char</dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000002">Todo:</a></b></dt><dd>Create a non-blocking version </dd></dl>

</div>
</div>
<a id="a2c6acbec6c127f7f867fc45d23ee7922"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c6acbec6c127f7f867fc45d23ee7922">&#9670;&nbsp;</a></span>CHAL_UART2_SendChar()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CHAL_UART2_SendChar </td>
          <td>(</td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>waits until a char can be transmitted by the UART and sends a char if possible. </p>
<dl class="section note"><dt>Note</dt><dd>This is a blocking function and needs to be avoided</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>void</dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000003">Todo:</a></b></dt><dd>Create a non-blocking version </dd></dl>

</div>
</div>
<a id="aca1ef0de865f2f1417b1995d8d3f558c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aca1ef0de865f2f1417b1995d8d3f558c">&#9670;&nbsp;</a></span>CHAL_UART2_SendString() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CHAL_UART2_SendString </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>string</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sends a string over UART in blocking mode. </p>
<dl class="section note"><dt>Note</dt><dd>This is a blocking function and needs to be avoided</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">string</td><td></td></tr>
    <tr><td class="paramname">length</td><td>length of string</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void</dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000004">Todo:</a></b></dt><dd>Create a non-blocking version </dd></dl>

</div>
</div>
<a id="a7a57f64d22e111716ba671be129283f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7a57f64d22e111716ba671be129283f1">&#9670;&nbsp;</a></span>CHAL_UART2_SendString() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CHAL_UART2_SendString </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>str</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a5dff1bc709ae53293df402d7a1d9a8ef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5dff1bc709ae53293df402d7a1d9a8ef">&#9670;&nbsp;</a></span>CHAL_uart_config()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="CHAL_8h.html#a29bb1dffd52091a90580c7dcdf5a663c">CHAL_StatusTypeDef</a> CHAL_uart_config </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>BaudRate</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes the UART interface with the desired settings and sets IRQ settings of USART2 in the NVIC. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">BaudRate</td><td>Desired baudrate of the uart interface</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>uint8_t This function returns a status (0 = OK, 1 = ERROR)</dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000001">Todo:</a></b></dt><dd><p class="startdd">add error handling </p>
<p class="interdd">check bit 12 of CR1 for start en stop bits </p>
<p class="enddd">check of BRR register is correct </p>
</dd></dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a73272eb3ed57889713d8a0c566839d33"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a73272eb3ed57889713d8a0c566839d33">&#9670;&nbsp;</a></span>incoming_commands_q</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::queue&lt;std::string&gt; incoming_commands_q</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a37722a150250e2a5a98e5e0d11e53449"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a37722a150250e2a5a98e5e0d11e53449">&#9670;&nbsp;</a></span>start</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int start = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ac0da16fdad8dd2b6cbf4dd4428dd86c8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac0da16fdad8dd2b6cbf4dd4428dd86c8">&#9670;&nbsp;</a></span>tempMainBuffer</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t tempMainBuffer[<a class="el" href="BL__parser_8h.html#a6b20d41d6252e9871430c242cb1a56e7">BUFFER_SIZE</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
