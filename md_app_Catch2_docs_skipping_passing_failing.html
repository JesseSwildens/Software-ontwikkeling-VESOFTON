<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Software Ontwikkeling: skipping-passing-failing</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="placeholder.jpg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Software Ontwikkeling
   &#160;<span id="projectnumber">0</span>
   </div>
   <div id="projectbrief">placeholder</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">skipping-passing-failing </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="top"></a> </p>
<h1><a class="anchor" id="autotoc_md578"></a>
Explicitly skipping, passing, and failing tests at runtime</h1>
<h2><a class="anchor" id="autotoc_md579"></a>
Skipping Test Cases at Runtime</h2>
<blockquote class="doxtable">
<p><a href="https://github.com/catchorg/Catch2/pull/2360">Introduced</a> in Catch2 3.3.0. </p>
</blockquote>
<p>In some situations it may not be possible to meaningfully execute a test case, for example when the system under test is missing certain hardware capabilities. If the required conditions can only be determined at runtime, it often doesn't make sense to consider such a test case as either passed or failed, because it simply cannot run at all.</p>
<p>To properly express such scenarios, Catch2 provides a way to explicitly <em>skip</em> test cases, using the <code>SKIP</code> macro:</p>
<div class="fragment"><div class="line">SKIP( [streamable expression] )</div>
</div><!-- fragment --><p>Example usage:</p>
<div class="fragment"><div class="line"> {c++}</div>
<div class="line">TEST_CASE(&quot;copy files between drives&quot;) {</div>
<div class="line">    if(getNumberOfHardDrives() &lt; 2) {</div>
<div class="line">        SKIP(&quot;at least two hard drives required&quot;);</div>
<div class="line">    }</div>
<div class="line">    // ...</div>
<div class="line">}</div>
</div><!-- fragment --><p>This test case is then reported as <em>skipped</em> instead of <em>passed</em> or <em>failed</em>.</p>
<p>The <code>SKIP</code> macro behaves similarly to an explicit <a href="#passing-and-failing-test-cases"><code>FAIL</code></a>, in that it is the last expression that will be executed:</p>
<div class="fragment"><div class="line"> {c++}</div>
<div class="line">TEST_CASE(&quot;my test&quot;) {</div>
<div class="line">    printf(&quot;foo&quot;);</div>
<div class="line">    SKIP();</div>
<div class="line">    printf(&quot;bar&quot;); // not printed</div>
<div class="line">}</div>
</div><!-- fragment --><p>However a failed assertion <em>before</em> a <code>SKIP</code> still causes the entire test case to fail:</p>
<div class="fragment"><div class="line"> {c++}</div>
<div class="line">TEST_CASE(&quot;failing test&quot;) {</div>
<div class="line">    CHECK(1 == 2);</div>
<div class="line">    SKIP();</div>
<div class="line">}</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md580"></a>
Interaction with Sections and Generators</h3>
<p>Sections, nested sections as well as specific outputs from <a href="generators.md#top">generators</a> can all be individually skipped, with the rest executing as usual:</p>
<div class="fragment"><div class="line"> {c++}</div>
<div class="line">TEST_CASE(&quot;complex test case&quot;) {</div>
<div class="line">  int value = GENERATE(2, 4, 6);</div>
<div class="line">  SECTION(&quot;a&quot;) {</div>
<div class="line">    SECTION(&quot;a1&quot;) { CHECK(value &lt; 8); }</div>
<div class="line">    SECTION(&quot;a2&quot;) {</div>
<div class="line">      if (value == 4) {</div>
<div class="line">        SKIP();</div>
<div class="line">      }</div>
<div class="line">      CHECK(value % 2 == 0);</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment --><p>This test case will report 5 passing assertions; one for each of the three values in section <code>a1</code>, and then two in section <code>a2</code>, from values 2 and 4.</p>
<p>Note that as soon as one section is skipped, the entire test case will be reported as <em>skipped</em> (unless there is a failing assertion, in which case the test is handled as <em>failed</em> instead).</p>
<p>Note that if all test cases in a run are skipped, Catch2 returns a non-zero exit code, same as it does if no test cases have run. This behaviour can be overridden using the <a href="command-line.md#no-tests-override">&ndash;allow-running-no-tests</a> flag.</p>
<h3><a class="anchor" id="autotoc_md581"></a>
&lt;tt&gt;SKIP&lt;/tt&gt; inside generators</h3>
<p>You can also use the <code>SKIP</code> macro inside generator's constructor to handle cases where the generator is empty, but you do not want to fail the test case.</p>
<h2><a class="anchor" id="autotoc_md582"></a>
Passing and failing test cases</h2>
<p>Test cases can also be explicitly passed or failed, without the use of assertions, and with a specific message. This can be useful to handle complex preconditions/postconditions and give useful error messages when they fail.</p>
<ul>
<li><code><a class="el" href="catch__test__macros_8hpp.html#a8e852a9421caf4fda4e1903d9f02bcf5">SUCCEED( [streamable expression] )</a></code></li>
</ul>
<p><code>SUCCEED</code> is morally equivalent with <code><a class="el" href="catch__message_8hpp.html#a3ae64706314066fdc8b6c8029a915aa7">INFO( [streamable expression] )</a>; <a class="el" href="catch__test__macros_8hpp.html#ad57835ba8f1bb419a865ada6bd011a85">REQUIRE( true )</a>;</code>. Note that it does not stop further test execution, so it cannot be used to guard failing assertions from being executed.</p>
<p><em>In practice, <code>SUCCEED</code> is usually used as a test placeholder, to avoid <a href="command-line.md#warnings">failing a test case due to missing assertions</a>.</em></p>
<div class="fragment"><div class="line"><a class="code" href="catch__amalgamated_8hpp.html#abd6e2aec703006b3da62cf7860c9808f">TEST_CASE</a>( <span class="stringliteral">&quot;SUCCEED showcase&quot;</span> ) {</div>
<div class="line">    <span class="keywordtype">int</span> I = 1;</div>
<div class="line">    <a class="code" href="catch__amalgamated_8hpp.html#a8e852a9421caf4fda4e1903d9f02bcf5">SUCCEED</a>( <span class="stringliteral">&quot;I is &quot;</span> &lt;&lt; I );</div>
<div class="line">    <span class="comment">// ... execution continues here ...</span></div>
<div class="line">}</div>
<div class="ttc" id="acatch__amalgamated_8hpp_html_a8e852a9421caf4fda4e1903d9f02bcf5"><div class="ttname"><a href="catch__amalgamated_8hpp.html#a8e852a9421caf4fda4e1903d9f02bcf5">SUCCEED</a></div><div class="ttdeci">#define SUCCEED(...)</div><div class="ttdef"><b>Definition:</b> catch_amalgamated.hpp:6265</div></div>
<div class="ttc" id="acatch__amalgamated_8hpp_html_abd6e2aec703006b3da62cf7860c9808f"><div class="ttname"><a href="catch__amalgamated_8hpp.html#abd6e2aec703006b3da62cf7860c9808f">TEST_CASE</a></div><div class="ttdeci">#define TEST_CASE(...)</div><div class="ttdef"><b>Definition:</b> catch_amalgamated.hpp:6257</div></div>
</div><!-- fragment --><ul>
<li><code><a class="el" href="catch__test__macros_8hpp.html#ac8d1eaf65528f86b445cf6e45b2d72c9">FAIL( [streamable expression] )</a></code></li>
</ul>
<p><code>FAIL</code> is morally equivalent with <code><a class="el" href="catch__message_8hpp.html#a3ae64706314066fdc8b6c8029a915aa7">INFO( [streamable expression] )</a>; <a class="el" href="catch__test__macros_8hpp.html#ad57835ba8f1bb419a865ada6bd011a85">REQUIRE( false )</a>;</code>.</p>
<p><em>In practice, <code>FAIL</code> is usually used to stop executing test that is currently known to be broken, but has to be fixed later.</em></p>
<div class="fragment"><div class="line"><a class="code" href="catch__amalgamated_8hpp.html#abd6e2aec703006b3da62cf7860c9808f">TEST_CASE</a>( <span class="stringliteral">&quot;FAIL showcase&quot;</span> ) {</div>
<div class="line">    <a class="code" href="catch__amalgamated_8hpp.html#ac8d1eaf65528f86b445cf6e45b2d72c9">FAIL</a>( <span class="stringliteral">&quot;This test case causes segfault, which breaks CI.&quot;</span> );</div>
<div class="line">    <span class="comment">// ... this will not be executed ...</span></div>
<div class="line">}</div>
<div class="ttc" id="acatch__amalgamated_8hpp_html_ac8d1eaf65528f86b445cf6e45b2d72c9"><div class="ttname"><a href="catch__amalgamated_8hpp.html#ac8d1eaf65528f86b445cf6e45b2d72c9">FAIL</a></div><div class="ttdeci">#define FAIL(...)</div><div class="ttdef"><b>Definition:</b> catch_amalgamated.hpp:6263</div></div>
</div><!-- fragment --><hr  />
<p><a href="Readme.md#top">Home</a> </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
